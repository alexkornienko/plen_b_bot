require("dotenv").config();
const TelegramBot = require("node-telegram-bot-api");
const cron = require("node-cron");

const bot = new TelegramBot(process.env.BOT_TOKEN, { polling: true });

// –õ–æ–≥–∏–∫–∞, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–∏—à–µ—Ç /start (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
bot.onText(/\/start/, (msg) => {
  bot.sendMessage(
    msg.chat.id,
    "–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ì–µ–Ω–Ω–∞–¥–∏–π –ù–∞–ø–æ–º–∏–Ω–∞–ª–æ–≤. –Ø –±—É–¥—É –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –æ —Ä–µ–ø–µ—Ç–∏—Ü–∏–∏ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é. –ü–æ–∫–∞ —è —É–º–µ—é —Ç–æ–ª—å–∫–æ —ç—Ç–æ, –Ω–æ, –µ—Å–ª–∏ –°–∞—à–∫–µ –±—É–¥–µ—Ç –Ω–µ –ª–µ–Ω—å, –æ–Ω –ø–æ–¥ –ø–∏–≤–æ –¥–æ–±–∞–≤–∏—Ç —á—Ç–æ-–Ω–∏–±—É–¥—å –µ—â—ë"
  );
});

// –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ (–∫–∞–∂–¥—É—é –ø—è—Ç–Ω–∏—Ü—É –≤ 10:25)
cron.schedule("* * * * *", () => {
  bot.sendMessage(
    process.env.CHAT_ID,
    "üìÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –≤ —Å—É–±–±–æ—Ç—É —Ä–µ–ø–µ—Ç–∏—Ü–∏—è –≤ 21:00!"
  );
});
